<?xml version="1.0" encoding="utf-8"?>
<extension version="3.6" type="plugin" group="system" method="upgrade">
	<name>PLG_HRZ_BLOCK_ACCESS_NAME</name>
	<author>Stefan Herzog</author>
	<creationDate>October 2021</creationDate>
	<copyright>This plugin is released under the GNU/GPL License</copyright>
	<license>GNU General Public License</license>
	<authorEmail>joomla@devel.stefan-herzog.com</authorEmail>
	<authorUrl>https://github.com/alve89</authorUrl>
	<version>1.1.8</version>
	<description>PLG_HRZ_BLOCK_ACCESS_DESC</description>
	<files>
      <filename plugin="block_access">block_access.php</filename>
	    <filename>index.html</filename>
	    <folder>language</folder>
  </files>
	<config>
    <fields name="params">
        <fieldset name="basic">
	        <field name="securitykey" type="password" size="50" default="" label="PLG_HRZ_BLOCK_ACCESS_PASSWORD_LABEL" description="PLG_HRZ_BLOCK_ACCESS_PASSWORD_DESC" />
					<field name="area" type="radio" default="admin" label="Select an option" description="">
					  <option value="site">SITE</option>
					  <option value="admin">ADMIN</option>
					  <option value="all">ALL</option>
					</field>
					<field name="typeOfBlock" type="radio" default="message" label="Select an option" description="">
					  <option value="message">PLG_HRZ_BLOCK_ACCESS_401_MESSAGE</option>
					  <option value="redirect">PLG_HRZ_BLOCK_ACCESS_301_REDIRECT</option>
					</field>
					<field name="message"
								 type="textarea"
								 size="50"
								 default="Hier hat niemand etwas zu suchen!"
								 label="PLG_HRZ_BLOCK_ACCESS_401_MESSAGE_LABEL"
								 description="PLG_HRZ_BLOCK_ACCESS_401_MESSAGE_DESC"
								 showon="typeOfBlock:message" />
				 <field name="redirectUrl"
								 type="url"
								 size="50"
								 placeholder="/path/relative/to/JoomlaRoot/"
								 label="PLG_HRZ_BLOCK_ACCESS_REDIRECTURL_LABEL"
								 description="PLG_HRZ_BLOCK_ACCESS_REDIRECTURL_DESC"
								 showon="typeOfBlock:redirect" />
				</fieldset>
	    </fields>
	</config>

	<languages>
		<language tag="de-DE">language/de-DE/de-DE.plg_system_block_access.ini</language>
		<language tag="de-DE">language/de-DE/de-DE.plg_system_block_access.sys.ini</language>
		<language tag="en-GB">language/en-GB/en-GB.plg_system_block_access.ini</language>
		<language tag="en-GB">language/en-GB/en-GB.plg_system_block_access.sys.ini</language>
	</languages>

	<updateservers>
		<server type="extension" name="PLG_HRZ_BLOCK_ACCESS_NAME">https://raw.githubusercontent.com/alve89/j_plg_hrz_block_access/master/updates.xml</server>
	</updateservers>
</extension>
